# Минимальные требования к данным

Этот раздел содержит минимальные обязательные поля, которые необходимы при создании сущностей через API CARGO.RUN Logistics 2.0.  
Значения обязательных полей должны присутствовать в запросах, иначе метод вернёт ошибку валидации.

Если в swagger указано дополнительное поле как обязательное — приоритет всегда за swagger.

---

# 1. Создание заявки (Bid)

Минимальный набор полей зависит от того, создаётся ли заявка полностью в CARGO.RUN или поступает из внешней системы (1С, ERP).

| Поле | Тип | Описание |
|------|------|----------|
| `cargoOwnerDictionaryItemId` | number | Идентификатор заказчика (контрагента). |
| `paymentTypeId` | number | Тип оплаты. |
| `ndsTypeId` | number | Тип НДС. |
| `price` | number | стоимость в рублях (с НДС). |
| `driver` | object | Идентификатор водителя. |
| `carOption` | object | Идентификатор автомобиля (тягача). |
| `trailerOption` | object | Идентификатор полуприцепа. |
| `bidPoints` | array | Маршрутные точки (минимум две: погрузка и выгрузка). |

Поля `cargoOwnerDictionaryItemId`, `paymentTypeId`, `ndsTypeId`, `price` необязательны, если используется признак `emptyMileageBid`.

---

# 2. Создание заказа (DistributionBid)

| Поле | Тип | Описание |
|------|------|----------|
| `bidPoints` | array | Маршрутные точки (минимум две: погрузка и выгрузка). |

---

# 3. Создание контрагента (Counterparty)

| Поле | Тип | Описание |
|------|------|----------|
| `name` | string | Наименование организации. |
| `inn` | string | ИНН. |
| `kpp` | string (nullable) | КПП (опционально)|

---

# 4. Создание водителя (Driver)

| Поле | Тип | Описание |
|------|------|----------|
| `firstName` | string | Имя водителя. |
| `lastName` | string | Фамилия водителя. |
| `phoneNumber` | string | Телефон в формате +7XXXXXXXXXX. |

---

# 5. Создание автомобиля (Car)

| Поле | Тип | Описание |
|------|------|----------|
| `number` | string | Госномер. |

---

# 6. Создание прицепа (Trailer)

| Поле | Тип | Описание |
|------|------|----------|
| `number` | string | Госномер. |

---

# 7. Общие правила

1. Все числовые идентификаторы (`xxxId`) должны существовать в справочниках.  
2. Поля, указанные как обязательные, не могут быть `null`.  
3. Любые дополнительные поля можно передавать только если они описаны в swagger.  
4. Если swagger для метода требует больший набор полей — он имеет приоритет.  

---

# 8. Что делать при ошибке валидации

Если обязательное поле опущено или не соответствует типу:

- сервер возвращает ошибку `400 Bad Request`,
- описание ошибки находится в поле `errorMessage` (если используется `ValidationApiResult`).

Рекомендуется логировать ошибки на стороне внешней системы.

